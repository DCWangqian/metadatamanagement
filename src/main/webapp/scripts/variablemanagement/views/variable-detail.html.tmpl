<div ng-if="!variable.$resolved">
    Lade Daten...
</div>
<div ng-if="variable.$resolved">
    <md-card>
        <md-card-header>
            <md-card-header-text>
                <h1>{{'variable-management.detail.variable' | translate }}: {{variable.label[currentLanguage]}}</h1>
            </md-card-header-text>
        </md-card-header>
        <md-card-content class="md-padding" layout="column">
            <div layout="row" layout-xs="column" flex>
              <md-card flex="50" flex-xs="100">
                <md-card-header>
                        <md-card-header-text>
                            <span class="md-headline">{{'variable-management.detail.variable-informations' | translate }}</span>
                        </md-card-header-text>
                    </md-card-header>
                    <md-content style="background-color:white;">
                      <section layout-margin>
                        <section ng-if="variable.dataType[currentLanguage]">
                          <span style="font-weight: bold;">Type: </span><span>{{variable.dataType[currentLanguage]}}</span>
                        </section>
                        <section ng-if="variable.scaleLevel[currentLanguage]">
                          <span style="font-weight: bold;">Scalelevel: </span><span>{{variable.scaleLevel[currentLanguage]}}</span>
                        </section>
                        <section ng-if="variable.atomicQuestionText[currentLanguage]">
                          <span style="font-weight: bold;">QuestionText: </span><span>{{variable.atomicQuestionText[currentLanguage]}}</span>
                        </section>
                        <section ng-if="variable.accessWays">
                          <span style="font-weight: bold;">Access ways: </span><span>{{cleanedAccessWays}}</span>
                        </section>
                        <section ng-if="variable.description[currentLanguage]">
                          <span style="font-weight: bold;">Description: </span><span>{{variable.description[currentLanguage]}}</span>
                        </section>
                        <section ng-if="variable.filterDetails.expressionLanguage">
                          <span style="font-weight: bold;">FilterDetailslanguage: </span><span>{{variable.filterDetails.expressionLanguage}}</span>
                        </section>
                        <section ng-if="variable.filterDetails.expression">
                        <span style="font-weight: bold;">FilterDetailsExpression: </span>
                        <pre>{{variable.filterDetails.expression}}</pre>
                        </section>
                      </section>
                        <section>
                            <md-button ng-disabled="variable.sameVariablesInPanel === undefined" ng-click="showSimilarVariables()">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/variable.svg" class="fdz-detail-icon"></md-icon>
                                    <span>showSimilarVariables {{ variable.sameVariablesInPanel.length || '(' + 0 + ')'}}</span>
                                </section>
                            </md-button>
                            <md-button ng-disabled="true">
                              <section>
                                <md-icon md-svg-src="/assets/images/icons/variable.svg" class="fdz-detail-icon"></md-icon>
                                <span>ToDo(-)</span>
                              </section>
                            </md-button>
                        </section>
              </md-content>
              </md-card>
              <md-card flex="50" flex-xs="100">
                <md-card-header>
                        <md-card-header-text>
                            <span class="md-headline">{{'variable-management.detail.related-informations' | translate }}</span>
                        </md-card-header-text>
                    </md-card-header>
                    <md-content style="background-color:white;">
                        <section>
                            <md-button ng-disabled="true">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/study.svg" class="fdz-detail-icon"></md-icon>
                                    <span>{{'study-management.home.title' | translate }}</span>
                                </section>
                            </md-button>
                            <md-button ng-disabled="true">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/addToshop.svg" class="fdz-detail-icon"></md-icon>
                                    <span>{{'notepad-management.home.title' | translate }}</span>
                                </section>
                            </md-button>
                        </section>
                        <section>
                            <md-button ng-click="showSurveys()">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/survey.svg" class="fdz-detail-icon"></md-icon>
                                    <span>{{'survey-management.home.title' | translate }}</span>
                                </section>
                            </md-button>
                        </section>
                        <section>
                            <md-button ng-disabled="variable.questionId === undefined" ui-sref="questionDetail({id:variable.questionId})">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/question.svg" class="fdz-detail-icon"></md-icon>
                                    <span>{{'question-management.detail.question' | translate }}</span>
                                </section>
                            </md-button>
                        </section>
                        <section>
                            <md-button ng-click="showDataSets()">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/data-set.svg" class="fdz-detail-icon"></md-icon>
                                    <span>{{'data-set-management.home.title' | translate }}</span>
                                </section>
                            </md-button>
                        </section>
                        <section>
                            <md-button ng-disabled="true">
                                <section>
                                    <md-icon md-svg-src="/assets/images/icons/variable.svg" class="fdz-detail-icon"></md-icon>
                                    <span>Related Publications</span>
                                </section>
                            </md-button>
                        </section>
              </md-content>
            </md-card>
            </div>
            <div layout="row" layout-xs="column" flex>
              <md-card flex="50" flex-xs="100">
                <md-card-header>
                  <md-card-header-text>
                    <span class="md-headline">{{'variable-management.detail.grafics' | translate }}</span>
                  </md-card-header-text>
                </md-card-header>
                <md-content style="background-color:white;">
                  <diagram statistics="variable.distribution" type="variable.scaleLevel[currentLanguage]" language="currentLanguage"></diagram>
                </md-content>
              </md-card>
              <md-card flex="50" flex-xs="100">
                <md-card-header>
                  <md-card-header-text>
                    <span class="md-headline">{{'variable-management.detail.statistics' | translate }}</span>
                  </md-card-header-text>
                  </md-card-header>
                  <md-card-content>
                  <section>
                      <section ng-if="variable.distribution.statistics.firstQuartile">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.firstQuartile' | translate}}: </span>
                        <span>{{variable.distribution.statistics.firstQuartile}}</span>
                      </section>
                      <section ng-if="variable.distribution.statistics.highWhisker">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.highWhisker' | translate}}: </span>
                        <span>{{variable.distribution.statistics.highWhisker}}</span>
                      </section>
                      <section ng-if="variable.distribution.statistics.lowWhisker">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.lowWhisker' | translate}}: </span>
                        <span>{{variable.distribution.statistics.lowWhisker}}</span>
                      </section>
                      <section ng-if="variable.distribution.statistics.maximum">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.maximum' | translate}}: </span>
                        <span>{{variable.distribution.statistics.maximum}}</span>
                      </section>
                      <section ng-if="variable.distribution.statistics.median">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.median' | translate}}: </span>
                        <span>{{variable.distribution.statistics.median}}</span>
                      </section>
                      <section ng-if="variable.distribution.statistics.minimum">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.minimum' | translate}}: </span>
                        <span>{{variable.distribution.statistics.minimum}}</span>
                      </section>
                      <section ng-if="variable.distribution.statistics.thirdQuartile">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.thirdQuartile' | translate}}: </span>
                        <span>{{variable.distribution.statistics.thirdQuartile}}</span>
                      </section>
                      <section ng-if="variable.distribution.totalAbsoluteFrequency">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.totalAbsoluteFrequency' | translate}}: </span>
                        <span>{{variable.distribution.totalAbsoluteFrequency}}</span>
                      </section>
                      <section ng-if="variable.distribution.totalValidAbsoluteFrequency">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.totalValidAbsoluteFrequency' | translate}}: </span>
                        <span>{{variable.distribution.totalValidAbsoluteFrequency}}</span>
                      </section>
                      <section ng-if="variable.distribution.totalValidRelativeFrequency">
                        <md-icon md-svg-src="/assets/images/icons/functions.svg" class="fdz-detail-icon"></md-icon>
                        <span>{{'variable-management.detail.label.totalValidRelativeFrequency' | translate}}: </span>
                        <span>{{variable.distribution.totalValidRelativeFrequency}}</span>
                      </section>
                    </section>
                  </md-card-content>
              </md-card>
            </div>
            <div layout="row" layout-xs="column" flex>
              <md-card flex="100">
                <md-card-header>
                  <md-card-header-text>
                    <span class="md-headline">{{'variable-management.detail.frequencies' | translate }}</span>
                  </md-card-header-text>
                </md-card-header>
                <md-content style="background-color:white;">
                <div class="fdz-table" id="fdz-table" ng-click="showRows()">
                  <md-tooltip md-direction="top">
                    {{'variable-management.detail.table.'+tableFlag | translate }}
                  </md-tooltip>
                  <div class="fdz-table-row">
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">{{'variable-management.detail.label.value' | translate }}</div>
                      </div>
                    </div>
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">{{'variable-management.detail.label.label' | translate }}</div>
                      </div>
                    </div>
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">M</div>
                      </div>
                    </div>
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">{{'variable-management.detail.label.absoluteFrequency' | translate }}</div>
                      </div>
                    </div>
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">{{'variable-management.detail.label.validRelativeFrequency' | translate }}</div>
                      </div>
                    </div>
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">{{'variable-management.detail.label.relativeFrequency' | translate }}</div>
                      </div>
                    </div>
                  </div>
                  <div class="fdz-table-row" ng-repeat="row in frequencies" id="row{{$index}}" ng-class="(4 > {{$index}}) || ({{$index}} > ({{frequencies.length-4}})) ? '' : 'ng-hide'">
                    <div class="fdz-table-cell">{{row.value}}{{row.code}}</div>
                    <div class="fdz-table-cell fdz-table-cell-fixed">
                      <div class="content">
                        <div class="ellipsis">{{row.label[currentLanguage]}}</div>
                      </div>
                    </div>
                    <div class="fdz-table-cell">{{row.code ? 'm' : ''}}</div>
                    <div class="fdz-table-cell">{{row.absoluteFrequency}}</div>
                    <div class="fdz-table-cell">{{row.validRelativeFrequency}}</div>
                    <div class="fdz-table-cell">{{row.relativeFrequency}}</div>
                  </div>
                </div>
                </md-content>
              </md-card>
            </div>
            <div layout="row" layout-xs="column" flex>
              <md-card flex="100">
                <md-card-header>
                  <md-card-header-text>
                    <span class="md-headline">{{'variable-management.detail.generation-details' | translate }}</span>
                  </md-card-header-text>
                </md-card-header>
                <md-content style="background-color:white;">
                  <section layout-margin>
                  <section ng-if="variable.generationDetails.description[currentLanguage]">
                    <span style="font-weight: bold;">Description: </span><span>{{variable.generationDetails.description[currentLanguage]}}</span>
                  </section>
                  <section ng-if="variable.generationDetails.ruleExpressionLanguage">
                    <span style="font-weight: bold;">ExpressionLanguage: </span><span>{{variable.generationDetails.ruleExpressionLanguage}}</span>
                  </section>
                  <section ng-if="variable.generationDetails.rule">
                    <span style="font-weight: bold;">Rule: </span>
                    <pre style="white-space: pre-wrap;">{{variable.generationDetails.rule}}</pre>
                  </section>
                </section>
                </md-content>
              </md-card>
            </div>
        </md-card-content>
    </md-card>
</div>
