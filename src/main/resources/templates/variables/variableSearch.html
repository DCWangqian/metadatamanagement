<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	th:lang="${T(org.springframework.context.i18n.LocaleContextHolder).getLocale().getLanguage()}">
<head th:include="common/head::head">
</head>
<body>
	<header>
		<div th:include="common/navbar::navbar"></div>
		<div
			th:include="common/jumbotron::jumbotron(title=#{jumbo.variables.search.intro})"></div>
	</header>
	<div class="container">
		<div class="row">
			<div class="searchBox">
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="panel panel-primary">
								<div class="panel-body">
									<form id="searchVariables" action="#"
										th:action="@{/}+${#locale.language}+'/variables/search'"
										role="search">
										<div class="input-group">
											<label class="sr-only" for="search"
												th:text="#{variables.searchlabel}">Search for
												Variables</label> 
												<input type="text" class="form-control" id="term"
												name="query" th:value="${query}"
												th:placeholder="#{variables.searchlabel}"/> <span
												class="input-group-btn">
												<button type="submit" class="btn btn-default">
													<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
												</button>
											</span>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div th:if="${size != null and size != 0}" class="col-md-12">
		<div class="row">
			<div id="content" class="col-md-8 col-md-offset-2">
				<div class="list-group">
					<a href="#" class="list-group-item " th:each="variable : ${variables}">
						<h4 class="list-group-item-heading" th:text="${variable.variableDocument.name}" ></h4>
						<p class="list-group-item-text" th:text="'ID: '+${variable.variableDocument.fdzId}" ></p>
						<p class="list-group-item-text" th:text="'Label: '+${variable.variableDocument.label}" ></p>
						<p class="list-group-item-text" th:text="'Survey: '+${variable.variableDocument.variableSurveyDocument.title}" ></p>
					</a>
				</div>
			</div>
		</div>
		</div>
		<div th:if="${size == 0}" class="col-md-12">
		<div class="row">
				<div class="col-md-8 col-md-offset-2">
					<h4>
						<span id="resultsCount"  th:text="#{variables.noresults}"
							class="label label-warning" >No results</span>
					</h4>
				</div>
			</div>
		</div>
	</div>
	<div th:include="common/js_libraries::js"></div>
</body>
</html>
